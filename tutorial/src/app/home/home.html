<div class="column gap-1">
    @if (loading) {
      <p>Loading products...</p>
    } @else if (errorMessage) {
      <p style="color: red;">{{ errorMessage }}</p>
    } @else if (products.length === 0) {
      <p>No products available</p>
    } @else {
      <!-- Add Product Button -->
       <button
            type="button"
            pButton
            icon="pi pi-plus"
            (click)="toggleAddPopup()"
            label="Add Product">
        </button>
      <!-- Product Section   -->
      <div class="row wrap gap-1 space-between">
          @for (product of products; track product.id) {
            <app-product
              [product]="product"
              (edit)="toggleEditPopup($event)"
              (delete)="toggleDeletePopup($event)">
            </app-product>
          }
      </div>
      <!-- Paginator -->
        <div class="row gap-1 flex justify-center items-center ">
            <p-paginator
            [rows]="rows"
            [totalRecords]="totalRecords"
            [rowsPerPageOptions]="[5,10,20]"
            (onPageChange)="onPageChange($event)">
            </p-paginator>
        </div>

        <!-- Edit Product -->
         <app-edit-popup
            [product]="selectedProduct"
            [display]="displayEditPopup"
            (confirm)="onConfirmEdit($event)"
            header="Edit Product"
         />
         <!-- Add Product -->
          <app-edit-popup
            [display]="displayAddPopup"
            (confirm)="onConfirmAdd($event)"
            header="Add Product"
         />
    }
</div> 
    
